
var ugTokenABI = [{"constant":true,"inputs":[],"name":"creator","outputs":[{"name":"","type":"address"}],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"_spender","type":"address"},{"name":"_value","type":"uint256"}],"name":"approve","outputs":[{"name":"success","type":"bool"}],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"name":"","type":"uint256"}],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"_from","type":"address"},{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transferFrom","outputs":[{"name":"success","type":"bool"}],"payable":false,"type":"function"},{"constant":false,"inputs":[],"name":"withdraw","outputs":[],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"}],"name":"balanceOf","outputs":[{"name":"balance","type":"uint256"}],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transfer","outputs":[{"name":"success","type":"bool"}],"payable":false,"type":"function"},{"constant":false,"inputs":[],"name":"transferEther","outputs":[{"name":"","type":"bool"}],"payable":true,"type":"function"},{"constant":false,"inputs":[],"name":"UGCToken","outputs":[],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"},{"name":"_spender","type":"address"}],"name":"allowance","outputs":[{"name":"remaining","type":"uint256"}],"payable":false,"type":"function"},{"anonymous":false,"inputs":[{"indexed":true,"name":"addr","type":"address"},{"indexed":false,"name":"amount","type":"uint256"}],"name":"TransferEther","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_from","type":"address"},{"indexed":true,"name":"_to","type":"address"},{"indexed":false,"name":"_value","type":"uint256"}],"name":"Transfer","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_owner","type":"address"},{"indexed":true,"name":"_spender","type":"address"},{"indexed":false,"name":"_value","type":"uint256"}],"name":"Approval","type":"event"}]
var ugTokenAddress = "0xb03122bd42d0b851baca1208fecd5dd0027bb5a9";


var dasABI =
[{"constant":true,"inputs":[],"name":"creator","outputs":[{"name":"","type":"address"}],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"","type":"uint64"}],"name":"totalOfAssetMapping","outputs":[{"name":"","type":"uint64"}],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"_player","type":"address"},{"name":"_gameId","type":"uint64"}],"name":"getPlayerToken","outputs":[{"name":"","type":"bytes"}],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"name","type":"bytes32"}],"name":"initGameId","outputs":[],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"_player","type":"address"},{"name":"_gameId","type":"uint64"}],"name":"getChannelByPlayer","outputs":[{"name":"channel","type":"address"}],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"_assetId","type":"uint64"}],"name":"getSellingStatusByAssetId","outputs":[{"name":"","type":"bool"}],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"_gameId","type":"uint64"}],"name":"getAddressByGameId","outputs":[{"name":"","type":"address"}],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"token","type":"bytes32"}],"name":"getIndexByToken","outputs":[{"name":"","type":"uint64"}],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"_assetId","type":"uint64"}],"name":"getTokenByAssetId","outputs":[{"name":"","type":"bytes32"}],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"_assetId","type":"uint64"},{"name":"status","type":"bool"}],"name":"setSellingStatus","outputs":[],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"_player","type":"address"}],"name":"getAssets","outputs":[{"name":"","type":"bytes"}],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"_from","type":"uint64"},{"name":"_to","type":"uint64"},{"name":"_gameId","type":"uint64"},{"name":"_assetId","type":"uint64"}],"name":"transferAsset","outputs":[{"name":"","type":"bool"}],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"_assetId","type":"uint64"}],"name":"getAliasNameByAssetId","outputs":[{"name":"","type":"bytes32"}],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"totalOfAsset","outputs":[{"name":"","type":"uint64"}],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"_player","type":"address"}],"name":"getChannelNumberByPlayer","outputs":[{"name":"","type":"uint64"}],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"gameProvider","type":"address"}],"name":"getGameId","outputs":[{"name":"","type":"uint64"}],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"nonce","outputs":[{"name":"","type":"uint64"}],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"_gameId","type":"uint64"}],"name":"getGameNameByGameId","outputs":[{"name":"","type":"bytes32"}],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"_channel","type":"address"},{"name":"_gameId","type":"uint64"}],"name":"channel","outputs":[{"name":"","type":"bool"}],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"_gameId","type":"uint64"},{"name":"alias","type":"bytes32"}],"name":"initGameToken","outputs":[{"name":"","type":"bool"}],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"}],"name":"addressIndexes","outputs":[{"name":"","type":"uint64"}],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"_player","type":"address"},{"name":"_gameId","type":"uint64"},{"name":"_assetId","type":"uint64"}],"name":"isPlayerContainAsset","outputs":[{"name":"","type":"bool"}],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"_assetId","type":"uint64"}],"name":"getPlyerByAssetId","outputs":[{"name":"","type":"address"}],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"_channel","type":"address"}],"name":"getPlayerNumberByChannel","outputs":[{"name":"","type":"uint64"}],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"_addr","type":"address"}],"name":"getAddressIndexOrCreate","outputs":[{"name":"","type":"uint64"}],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"","type":"uint256"}],"name":"playerOfAddress","outputs":[{"name":"","type":"address"}],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"_addr","type":"address"}],"name":"getAddressIndex","outputs":[{"name":"","type":"uint64"}],"payable":false,"type":"function"},{"inputs":[],"payable":false,"type":"constructor"},{"payable":false,"type":"fallback"},{"anonymous":false,"inputs":[{"indexed":false,"name":"_seller","type":"address"},{"indexed":false,"name":"_sellerIndex","type":"uint64"},{"indexed":false,"name":"_gameId","type":"uint64"},{"indexed":false,"name":"_asset","type":"bytes32"},{"indexed":false,"name":"_assetIndex","type":"uint64"}],"name":"InitGameToken","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"_player","type":"address"},{"indexed":false,"name":"_channel","type":"address"},{"indexed":false,"name":"_gameId","type":"uint64"}],"name":"Channel","type":"event"}]
var dasAddress = "0x1a0910b2ce53af925f9849a80465d4a53d6f539c";

var rechargeABI =
[{"constant":true,"inputs":[],"name":"creator","outputs":[{"name":"","type":"address"}],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"_gameId","type":"uint64"},{"name":"_tradeId","type":"uint64"},{"name":"_seller","type":"address"},{"name":"_amount","type":"uint256"}],"name":"pay","outputs":[{"name":"","type":"bool"}],"payable":false,"type":"function"},{"inputs":[{"name":"_dasAddr","type":"address"},{"name":"_ugToken","type":"address"}],"payable":false,"type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"name":"_gameId","type":"uint64"},{"indexed":false,"name":"_tradeId","type":"uint64"},{"indexed":false,"name":"_seller","type":"address"},{"indexed":false,"name":"_payer","type":"address"},{"indexed":false,"name":"_amount","type":"uint256"}],"name":"Pay","type":"event"}]
var rechargeAddress = "0x1208f115ac19d5f09b01ca1dfd7059a61b6d1ab0";

var tradeABI =
[{"constant":true,"inputs":[],"name":"creator","outputs":[{"name":"","type":"address"}],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"_gameId","type":"uint64"},{"name":"_assetId","type":"uint64"},{"name":"price","type":"uint256"},{"name":"proveHash","type":"bytes32"}],"name":"sell","outputs":[{"name":"","type":"bool"}],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"getAllOnSelling","outputs":[{"name":"","type":"bytes"}],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"onSellingCount","outputs":[{"name":"","type":"uint64"}],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"_gameId","type":"uint64"},{"name":"_assetId","type":"uint64"}],"name":"buy","outputs":[{"name":"","type":"bool"}],"payable":false,"type":"function"},{"inputs":[{"name":"_dasAddr","type":"address"},{"name":"_ugToken","type":"address"}],"payable":false,"type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"name":"_seller","type":"address"},{"indexed":false,"name":"_sellerIndex","type":"uint64"},{"indexed":false,"name":"_gameId","type":"uint64"},{"indexed":false,"name":"_asset","type":"bytes32"},{"indexed":false,"name":"_assetIndex","type":"uint64"}],"name":"Sell","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"_owner","type":"address"},{"indexed":false,"name":"_ownerIndex","type":"uint64"},{"indexed":false,"name":"__buyer","type":"address"},{"indexed":false,"name":"_buyerIndex","type":"uint64"},{"indexed":false,"name":"_gameId","type":"uint64"},{"indexed":false,"name":"_asset","type":"bytes32"},{"indexed":false,"name":"_assetIndex","type":"uint64"}],"name":"Buy","type":"event"}]
var tradeAddress = "0xe4ed0ff6a0dc145bfc477d736ea5afd1248ba10a"

// var das = eth.contract([{"constant":true,"inputs":[],"name":"creator","outputs":[{"name":"","type":"address"}],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"","type":"uint64"}],"name":"totalOfAssetMapping","outputs":[{"name":"","type":"uint64"}],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"_player","type":"address"},{"name":"_gameId","type":"uint64"}],"name":"getPlayerToken","outputs":[{"name":"","type":"bytes"}],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"name","type":"bytes32"}],"name":"initGameId","outputs":[],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"_player","type":"address"},{"name":"_gameId","type":"uint64"}],"name":"getChannelByPlayer","outputs":[{"name":"channel","type":"address"}],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"_assetId","type":"uint64"}],"name":"getSellingStatusByAssetId","outputs":[{"name":"","type":"bool"}],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"_gameId","type":"uint64"}],"name":"getAddressByGameId","outputs":[{"name":"","type":"address"}],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"token","type":"bytes32"}],"name":"getIndexByToken","outputs":[{"name":"","type":"uint64"}],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"_assetId","type":"uint64"}],"name":"getTokenByAssetId","outputs":[{"name":"","type":"bytes32"}],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"_assetId","type":"uint64"},{"name":"status","type":"bool"}],"name":"setSellingStatus","outputs":[],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"_player","type":"address"}],"name":"getAssets","outputs":[{"name":"","type":"bytes"}],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"_from","type":"uint64"},{"name":"_to","type":"uint64"},{"name":"_gameId","type":"uint64"},{"name":"_assetId","type":"uint64"}],"name":"transferAsset","outputs":[{"name":"","type":"bool"}],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"_assetId","type":"uint64"}],"name":"getAliasNameByAssetId","outputs":[{"name":"","type":"bytes32"}],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"totalOfAsset","outputs":[{"name":"","type":"uint64"}],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"_player","type":"address"}],"name":"getChannelNumberByPlayer","outputs":[{"name":"","type":"uint64"}],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"gameProvider","type":"address"}],"name":"getGameId","outputs":[{"name":"","type":"uint64"}],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"nonce","outputs":[{"name":"","type":"uint64"}],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"_gameId","type":"uint64"}],"name":"getGameNameByGameId","outputs":[{"name":"","type":"bytes32"}],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"_channel","type":"address"},{"name":"_gameId","type":"uint64"}],"name":"channel","outputs":[{"name":"","type":"bool"}],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"_gameId","type":"uint64"},{"name":"alias","type":"bytes32"}],"name":"initGameToken","outputs":[{"name":"","type":"bool"}],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"}],"name":"addressIndexes","outputs":[{"name":"","type":"uint64"}],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"_player","type":"address"},{"name":"_gameId","type":"uint64"},{"name":"_assetId","type":"uint64"}],"name":"isPlayerContainAsset","outputs":[{"name":"","type":"bool"}],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"_assetId","type":"uint64"}],"name":"getPlyerByAssetId","outputs":[{"name":"","type":"address"}],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"_channel","type":"address"}],"name":"getPlayerNumberByChannel","outputs":[{"name":"","type":"uint64"}],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"_addr","type":"address"}],"name":"getAddressIndexOrCreate","outputs":[{"name":"","type":"uint64"}],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"","type":"uint256"}],"name":"playerOfAddress","outputs":[{"name":"","type":"address"}],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"_addr","type":"address"}],"name":"getAddressIndex","outputs":[{"name":"","type":"uint64"}],"payable":false,"type":"function"},{"inputs":[],"payable":false,"type":"constructor"},{"payable":false,"type":"fallback"},{"anonymous":false,"inputs":[{"indexed":false,"name":"_seller","type":"address"},{"indexed":false,"name":"_sellerIndex","type":"uint64"},{"indexed":false,"name":"_gameId","type":"uint64"},{"indexed":false,"name":"_asset","type":"bytes32"},{"indexed":false,"name":"_assetIndex","type":"uint64"}],"name":"InitGameToken","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"_player","type":"address"},{"indexed":false,"name":"_channel","type":"address"},{"indexed":false,"name":"_gameId","type":"uint64"}],"name":"Channel","type":"event"}]
  // ).at("0xb32a613c99b14a5ff32f43de8354f92d9baca0f3")
// var trade = eth.contract([{"constant":true,"inputs":[],"name":"creator","outputs":[{"name":"","type":"address"}],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"_gameId","type":"uint64"},{"name":"_assetId","type":"uint64"},{"name":"price","type":"uint256"},{"name":"proveHash","type":"bytes32"}],"name":"sell","outputs":[{"name":"","type":"bool"}],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"getAllOnSelling","outputs":[{"name":"","type":"bytes"}],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"onSellingCount","outputs":[{"name":"","type":"uint64"}],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"_gameId","type":"uint64"},{"name":"_assetId","type":"uint64"}],"name":"buy","outputs":[{"name":"","type":"bool"}],"payable":false,"type":"function"},{"inputs":[{"name":"_dasAddr","type":"address"},{"name":"_ugToken","type":"address"}],"payable":false,"type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"name":"_seller","type":"address"},{"indexed":false,"name":"_sellerIndex","type":"uint64"},{"indexed":false,"name":"_gameId","type":"uint64"},{"indexed":false,"name":"_asset","type":"bytes32"},{"indexed":false,"name":"_assetIndex","type":"uint64"}],"name":"Sell","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"_owner","type":"address"},{"indexed":false,"name":"_ownerIndex","type":"uint64"},{"indexed":false,"name":"__buyer","type":"address"},{"indexed":false,"name":"_buyerIndex","type":"uint64"},{"indexed":false,"name":"_gameId","type":"uint64"},{"indexed":false,"name":"_asset","type":"bytes32"},{"indexed":false,"name":"_assetIndex","type":"uint64"}],"name":"Buy","type":"event"}]
// ).at("0x90a76ffc69dc2452de7186dfbea8286d3e453774")
// var ugToken = eth.contract([{"constant":true,"inputs":[],"name":"creator","outputs":[{"name":"","type":"address"}],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"_spender","type":"address"},{"name":"_value","type":"uint256"}],"name":"approve","outputs":[{"name":"success","type":"bool"}],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"name":"","type":"uint256"}],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"_from","type":"address"},{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transferFrom","outputs":[{"name":"success","type":"bool"}],"payable":false,"type":"function"},{"constant":false,"inputs":[],"name":"withdraw","outputs":[],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"}],"name":"balanceOf","outputs":[{"name":"balance","type":"uint256"}],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"address"},{"name":"_value","type":"uint256"}],"name":"transfer","outputs":[{"name":"success","type":"bool"}],"payable":false,"type":"function"},{"constant":false,"inputs":[],"name":"transferEther","outputs":[{"name":"","type":"bool"}],"payable":true,"type":"function"},{"constant":false,"inputs":[],"name":"UGCToken","outputs":[],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"},{"name":"_spender","type":"address"}],"name":"allowance","outputs":[{"name":"remaining","type":"uint256"}],"payable":false,"type":"function"},{"anonymous":false,"inputs":[{"indexed":true,"name":"addr","type":"address"},{"indexed":false,"name":"amount","type":"uint256"}],"name":"TransferEther","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_from","type":"address"},{"indexed":true,"name":"_to","type":"address"},{"indexed":false,"name":"_value","type":"uint256"}],"name":"Transfer","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_owner","type":"address"},{"indexed":true,"name":"_spender","type":"address"},{"indexed":false,"name":"_value","type":"uint256"}],"name":"Approval","type":"event"}]
// ).at("0xaead09c5aaa98121ee4f1a8776bba8cc57e4d68a")
// var recharge = eth.contract([{"constant":true,"inputs":[],"name":"creator","outputs":[{"name":"","type":"address"}],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"_gameId","type":"uint64"},{"name":"_tradeId","type":"uint64"},{"name":"_seller","type":"address"},{"name":"_amount","type":"uint256"}],"name":"pay","outputs":[{"name":"","type":"bool"}],"payable":false,"type":"function"},{"inputs":[{"name":"_dasAddr","type":"address"},{"name":"_ugToken","type":"address"}],"payable":false,"type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"name":"_gameId","type":"uint64"},{"indexed":false,"name":"_tradeId","type":"uint64"},{"indexed":false,"name":"_seller","type":"address"},{"indexed":false,"name":"_payer","type":"address"},{"indexed":false,"name":"_amount","type":"uint256"}],"name":"Pay","type":"event"}]
// ).at("0x17d7ca0ea8d25295cbbe82056f7fa85d1f421a48")
// das.getPlayerToken(eth.accounts[0],2)
// das.initGameToken(2,'fanjl',{from:eth.accounts[1],gas:4700000})